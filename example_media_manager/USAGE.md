# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–∏–º–µ—Ä–æ–≤ Media Manager

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

–í —ç—Ç–æ–π –ø–∞–ø–∫–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Media Manager:

### 1. üìû –û—Å–Ω–æ–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (main.go)
**–§–∞–π–ª:** `main.go`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è peer-to-peer –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –º–µ–¥–∏–∞ —Å–µ—Å—Å–∏—è–º–∏
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ Media Manager –Ω–∞ localhost
- –°–æ–∑–¥–∞–Ω–∏–µ SDP offer/answer 
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –°–∏–º—É–ª—è—Ü–∏—è –ø–µ—Ä–µ–¥–∞—á–∏ –∞—É–¥–∏–æ –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

### 2. üîß –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä (simple_demo.go)
**–§–∞–π–ª:** `simple_demo.go`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Media Manager
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 3. üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä (advanced_demo.go)
**–§–∞–π–ª:** `advanced_demo.go`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üèÉ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd example_media_manager
go run *.go
```

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∂–µ—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞:
```
üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Media Manager
=====================================

–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
1. üìû –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è P2P –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ (–æ—Å–Ω–æ–≤–Ω–æ–π)
2. üîß –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
3. üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
4. ‚öôÔ∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. üéØ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø—Ä–∏–º–µ—Ä–∞ (1-5):
```

### –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

#### –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è:
```bash
go run main.go
# –ü—Ä–∏ –≤–≤–æ–¥–µ –≤—ã–±–µ—Ä–∏—Ç–µ 1
```

#### –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:
```bash
go run main.go
# –ü—Ä–∏ –≤–≤–æ–¥–µ –≤—ã–±–µ—Ä–∏—Ç–µ 2
```

#### –¢–æ–ª—å–∫–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä:
```bash
go run main.go
# –ü—Ä–∏ –≤–≤–æ–¥–µ –≤—ã–±–µ—Ä–∏—Ç–µ 3
```

#### –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥—Ä—è–¥:
```bash
go run main.go
# –ü—Ä–∏ –≤–≤–æ–¥–µ –≤—ã–±–µ—Ä–∏—Ç–µ 5
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –û—Å–Ω–æ–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
```
üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Media Manager: Peer-to-Peer –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
============================================================

üì¶ 1. –°–æ–∑–¥–∞–Ω–∏–µ Media Manager –Ω–∞ localhost...
‚úÖ Media Manager —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
   üìç –õ–æ–∫–∞–ª—å–Ω—ã–π IP: 127.0.0.1
   üîå –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤: 10000-10100

üöÄ 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π —Å–µ—Å—Å–∏–∏ (Caller) —Å SDP offer...
üéâ –°–æ–±—ã—Ç–∏–µ: –°–µ—Å—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞ [a1b2c3d4...]
‚úÖ Caller —Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞: a1b2c3d4...
   üìç –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: 127.0.0.1:10000
   üìÑ SDP Offer (190 —Å–∏–º–≤–æ–ª–æ–≤):
[... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ ...]
```

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä
```
üéØ –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä Media Manager
===============================

üì¶ –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
   IP: 127.0.0.1, –ü–æ—Ä—Ç—ã: 10000-10050

üöÄ –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Media Manager...
   ‚úÖ Media Manager –∑–∞–ø—É—â–µ–Ω

üìû –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Caller —Å–µ—Å—Å–∏–∏...
[... –ø–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ...]
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä
```
üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ Media Manager
===================================================

üì¶ –°–æ–∑–¥–∞–Ω–∏–µ Media Manager —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π...
‚úÖ Media Manager –∑–∞–ø—É—â–µ–Ω
   üéµ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–¥–µ–∫–∏: [PCMU PCMA G722]

üîó –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π...
[... –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π ...]
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `127.0.0.1`. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:
```go
config := manager_media.ManagerConfig{
    DefaultLocalIP: "192.168.1.100", // –í–∞—à IP
    // ...
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø–æ—Ä—Ç–æ–≤  
```go
RTPPortRange: manager_media.PortRange{
    Min: 20000, // –ù–∞—á–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç
    Max: 20100, // –ö–æ–Ω–µ—á–Ω—ã–π –ø–æ—Ä—Ç
},
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–¥–µ–∫–æ–≤
```go
DefaultAudioCodecs: []string{"PCMU", "PCMA", "G722"},
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "bind: address already in use"
- –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –ò–∑–º–µ–Ω–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã –ª–∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å IP –∞–¥—Ä–µ—Å–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª

### –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π IP –≤–º–µ—Å—Ç–æ 127.0.0.1
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É CPU

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: [README.md](README.md)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Media Manager: [../pkg/manager_media/README.md](../pkg/manager_media/README.md)
- –ü—Ä–∏–º–µ—Ä—ã RTP: [../examples_media/](../examples_media/)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è SIP Dialog: [../pkg/dialog/README.md](../pkg/dialog/README.md)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SIP —Å—Ç–µ–∫–æ–º** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å pkg/dialog
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–æ–≤  
3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è DTMF** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∏–Ω–≥–∞
4. **WebRTC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –±—Ä–∞—É–∑–µ—Ä–∞–º–∏
5. **–ó–∞–ø–∏—Å—å/–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–¥–∏–∞ –ø–æ—Ç–æ–∫–æ–≤

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `your_example.go`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ –≤ `main.go`
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é 